# /scope - Display current engagement scope
# Shows allowlisted domains/IPs, denylist, constraints, and budget status

[command]
name = "scope"
description = "Display current engagement scope, constraints, and budget status"
version = "1.0.0"

[command.prompt]
template = """
Display the current engagement scope by:

1. **Load Scope Configuration**
   - Read the scope file from `scope/engagement.yaml` (or SCOPE_FILE env var)
   - Parse the allowlist (domains, IP ranges, ports)
   - Parse the denylist (excluded domains, IPs)
   - Parse constraints (rate limits, time windows, excluded paths)

2. **Show Scope Summary**
   Format the output as:
   ```
   === Engagement Scope ===

   ALLOWLIST:
   - Domains: [list domains with wildcards]
   - IP Ranges: [list CIDR ranges]
   - Ports: [list allowed ports]

   DENYLIST:
   - Excluded Domains: [list]
   - Excluded IPs: [list]
   - Excluded Paths: [list patterns]

   CONSTRAINTS:
   - Rate Limit: X requests/second
   - Max Concurrent: X
   - Time Window: [if defined]
   - Max Total Requests: X
   ```

3. **Show Budget Status**
   - Query scope-guard-mcp for current budget status
   - Display requests used vs total allowed
   - Show remaining budget percentage

4. **Validation Status**
   - Indicate if scope file is valid
   - Show any warnings or configuration issues

If scope file is not found, display a helpful message about creating one.
"""

[command.metadata]
category = "pentest"
risk_level = "low"
requires_scope = false
