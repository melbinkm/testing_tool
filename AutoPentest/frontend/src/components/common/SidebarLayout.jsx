import { Layout } from 'antd';
import FolderSidebar from './FolderSidebar';
import { useTheme } from '../../contexts/ThemeContext';

const { Sider, Content } = Layout;

const SidebarLayout = ({
  children,
  folders = [],
  allAssessments = [],
  activeView,
  onViewChange,
  onCreateFolder,
  onEditFolder,
  className = ""
}) => {
  const { isDark } = useTheme();

  return (
    <Layout className={className} style={{ background: 'transparent' }}>
      {/* Folder Sidebar */}
      <Sider
        width={256}
        style={{
          background: isDark ? '#171717' : '#ffffff',
          borderRight: `1px solid ${isDark ? '#404040' : '#e5e5e5'}`,
          height: '100%',
        }}
      >
        <FolderSidebar
          folders={folders}
          allAssessments={allAssessments}
          activeView={activeView}
          onViewChange={onViewChange}
          onCreateFolder={onCreateFolder}
          onEditFolder={onEditFolder}
          className="h-full"
        />
      </Sider>

      {/* Main Content Area */}
      <Content style={{ padding: 24, overflow: 'auto' }}>
        {children}
      </Content>
    </Layout>
  );
};

export default SidebarLayout;
