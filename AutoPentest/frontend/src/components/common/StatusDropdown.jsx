import { Select } from 'antd';
import { CheckCircle, Clock, Archive } from '../icons';

const statusOptions = [
  { value: 'active', label: 'Active', icon: Clock, color: '#3b82f6' },
  { value: 'completed', label: 'Completed', icon: CheckCircle, color: '#22c55e' },
  { value: 'archived', label: 'Archived', icon: Archive, color: '#737373' },
];

const StatusDropdown = ({
  currentStatus,
  onStatusChange,
  disabled = false,
  className = ""
}) => {
  return (
    <Select
      value={currentStatus}
      onChange={onStatusChange}
      disabled={disabled}
      size="small"
      className={className}
      style={{ minWidth: 120 }}
      popupMatchSelectWidth={false}
      options={statusOptions}
      optionRender={(option) => {
        const opt = statusOptions.find(o => o.value === option.value);
        if (!opt) return option.label;
        const Icon = opt.icon;
        return (
          <span className="flex items-center gap-2">
            <Icon className="w-3.5 h-3.5" style={{ color: opt.color }} />
            <span style={{ color: opt.color }}>{opt.label}</span>
          </span>
        );
      }}
      labelRender={(props) => {
        const opt = statusOptions.find(o => o.value === props.value);
        if (!opt) return props.label;
        const Icon = opt.icon;
        return (
          <span className="flex items-center gap-1.5">
            <Icon className="w-3 h-3" style={{ color: opt.color }} />
            <span style={{ color: opt.color, fontSize: 12, fontWeight: 500 }}>{opt.label}</span>
          </span>
        );
      }}
    />
  );
};

export default StatusDropdown;
